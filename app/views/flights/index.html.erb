<p>This is the starting index page</p>

<%= form_with url: "/flights", method: :get do |form| %>
  
  <label for="from_airport">Departing from:</label>
  <select name="from_airport" id="from_airport">
    <% @airports.each do |airport| %>
      <option value="<%= airport.id%>"><%= airport.code %></option>
    <% end %>
  </select>
  <br>
  
  <%= form.label :to_airport, "Destination"%>
  <%= select_tag(:to_airport, options_for_select(@airports.map{|a| [a.code, a.id]}))%>
  <br>

  <%= form.label :number_of_passengers, "Number of passengers:"%>
  <%= select_tag(:number_of_passengers, options_for_select((1..4).map{|n| [n, n]}))%>
  <br>

  <%= form.label :date, "Date:"%>
  <%= select_tag(:date, options_for_select(@dates.map{|d| [d.departure_time.to_date, d.departure_time.to_date]}))%>
  <br>

  <%= form.submit "Search" %>
<% end %>

<% if false %>
  <%= form_with url: "/flights", method: :get do |form| %>
    <%= form.label :departing, "Departing airports" %>
    <%= form.select :departing %>
    <%= form.submit "Search" %>
  <% end %>
<% end %>